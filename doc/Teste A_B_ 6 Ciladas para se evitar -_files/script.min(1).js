(function(e){e.fn.isExist=function(t,n){var r=e(this).find(t);if(r.length&&typeof n=="function"){n.call(null,r)}return r}})(jQuery);(function(e){jQuery(function(){t.init()});jQuery(window).load(function(){var e=jQuery("iframe[id*=Topo_Super_0]").get(0),t;if(typeof e=="undefined"){return false}t=jQuery("embed",e.contentDocument);if(t.length){t.attr("wmode","transparent");t.parent().css("display","block")}});var t={init:function(){this.handleUserAreaBox();this.handleGravityFormsDefaultValue();this.handleCommentForm();this.handleMenu();this.handleSearch();this.modalWindows();this.newsletter();this.partnersFooterBar();this.placeHolder();this.setExternalLinks();this.searchSectionNavigation();this.GAEventsTracking();this.menuBox();this.tempAds();this.bxSlider();this.bxPagination();this.watermark();this.handle_old_images_inside_attachments();this.colorbox_single_box();this.filter_estate_supplier_list();this.resize_single_box()},menuBox:function(){var e=jQuery("#imasters-box .sub-menu > li");e.mouseenter(function(){jQuery(this).siblings(".active").removeClass("active").end().addClass("active")})},handle_old_images_inside_attachments:function(){jQuery("a[rel^='attachment']").each(function(e){jQuery(this).attr("href",jQuery(this).find("img").attr("src"))})},bxSlider:function(){jQuery(".widget_related_courses ul").bxSlider({speed:800,minSlides:1,maxSlides:1,infiniteLoop:false,hideControlOnEnd:true})},bxPagination:function(){var e=jQuery(".bx-pager-link").length;if(e<=1){jQuery(".bx-pager").css("display","none")}},handleUserAreaBox:function(){var t=e("#user-area"),n=t.find(".user-name");n.find("a").click(function(e){t.toggleClass("active");e.preventDefault()})},searchSectionNavigation:function(){var t=false;e('#section-topics input[name="filter"]').change(function(){var t=e(this).val();e("#section-navigation a").each(function(n){var r=e(this);var i=new RegExp(t,"ig");if(i.test(r.text())){r.removeClass("hide")}else{r.addClass("hide")}});e("#section-navigation a").removeClass("unique");if(e("#section-navigation a:not(.hide)").length==1){e("#section-navigation a:not(.hide)").addClass("unique")}return false}).keydown(function(n){if(n.keyCode==27){if(e(this).val()!=""){n.stopPropagation();t=true}}}).keyup(function(n){if(n.keyCode==13){if(e("#section-navigation a.unique").length==1){document.location=e("#section-navigation a.unique").attr("href")}}else if(n.keyCode==27){if(t){e(this).val("")}}e(this).change()}).click(function(){e(this).change()})},filter_estate_supplier_list:function(){jQuery("#supplier_uf").change(function(){jQuery(this).closest("form").submit()})},handleGravityFormsDefaultValue:function(){jQuery('form[id^="gform_"]').find('input[type="text"], textarea').resetDefaultValue()},handleCommentForm:function(){var t=e("#commentform #strComment"),n=e("#commentform .personal-data"),r=e("#commentform .submit");t.focus(function(){n.slideDown("fast");r.show()});t.blur(function(){if(t.val()!="")return;n.slideUp("fast");r.hide()})},handleMenu:function(){var e=jQuery("nav"),t=e.find(" > ul > li");t.hover(function(){_this=jQuery(this);if(!_this.children("ul").length==0)_this.addClass("has-submenu")},function(){jQuery(this).removeClass("has-submenu")})},handleSearch:function(){var t=e(".widget-filter dl");t.find("ul.children").hide();t.find(".toggle-filter").click(function(t){e(this).siblings("ul.children").slideToggle().parent().toggleClass("active");t.preventDefault()})},modalWindows:function(){e("#btn-login-signup, #btn-modal-section").click(function(t){t.preventDefault();e(this).modal({zIndex:3})})},newsletter:function(){var t=e("#newsletter-email"),n=e("#newsletter-name"),r=e("#frm-newsletter");r.submit(function(){var r=t.val(),i=n.val(),s=e('input[type="submit"]',this),o;if(n.val().length==0){n.val("Qual seu nome?").focus().select();return false}if(t.val().length<5||!r.match("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$")){t.val("Informe um e-mail válido").select().focus();return false}o={action:"newsletter",data:{email:t.val(),name:n.val()}};s.ajaxStart(function(){e(this).val("Assinando...")});e.post(im_js_static_data.ajax_url,o,function(e){if(e==1){t.val("Sucesso! E-mail cadastrado.")}else{t.val("E-mail já cadastrado").select().focus()}});s.ajaxStop(function(){e(this).val("Assinar")});return false})},partnersFooterBar:function(){var t=e("#partners-branding"),n=e("#footer"),r=e(window).height(),i=e(document).height(),s;e(window).scroll(function(){currentScreenPosition=e(document).scrollTop()+r+10;if(currentScreenPosition>=i){t.addClass("footer-bottom-partners")}else{t.removeClass("footer-bottom-partners")}})},placeHolder:function(){jQuery(function(){jQuery.support.placeholder=false;test=document.createElement("input");if("placeholder"in test)jQuery.support.placeholder=true});jQuery(function(){if(!e.support.placeholder){var t=document.activeElement;e(":text").focus(function(){if(e(this).attr("placeholder")!=""&&e(this).val()==e(this).attr("placeholder")){e(this).val("").removeClass("hasPlaceholder")}}).blur(function(){if(e(this).attr("placeholder")!=""&&(e(this).val()==""||e(this).val()==e(this).attr("placeholder"))){e(this).val(e(this).attr("placeholder")).addClass("hasPlaceholder")}});e(":text").blur();e(t).focus();e("form:eq(0)").submit(function(){e(":text.hasPlaceholder").val("")})}})},setExternalLinks:function(){e('a[href^="http"]').each(function(){if(this.href.indexOf(location.hostname)==-1){e(this).attr("target","_blank")}})},GAEventsTracking:function(){this._GAEventsTrackingBrandHeader();this._GAEventsTrackingGlobalNavigation();this._GAEventsTrackingFavoritesNavigation();this._GAEventsTrackingFeaturedHome();this._GAEventsTrackingFeaturedHomeNews();this._GAEventsTrackingChooseSections()},_GAEventsTrackingBrandHeader:function(){e("#header .branding a").click(function(){_gaq.push(["_trackEvent","Logo_iMasters","Voltar_Home"])})},_GAEventsTrackingGlobalNavigation:function(){var n=e("#header .nav-global .menu-item a"),r;n.click(function(){r=e(this).text();r=t._string_to_slug(r);_gaq.push(["_trackEvent","Menu_Principal",r])})},_GAEventsTrackingFavoritesNavigation:function(){var n=e("#header .nav-section .menu-item a"),r;n.click(function(){r=e(this).text();r=t._string_to_slug(r);_gaq.push(["_trackEvent","Menu_Favoritos",r])})},_GAEventsTrackingFeaturedHome:function(){var t=e(".home #featured .thumbnail a"),n=e(".home #featured .title a"),r;t.click(function(){r=t.index(e(this));_gaq.push(["_trackEvent","Destaques_Home","Destaque_"+r])});n.click(function(){r=n.index(e(this));_gaq.push(["_trackEvent","Destaques_Home","Destaque_"+r])})},_GAEventsTrackingFeaturedHomeNews:function(){var t=e(".home #news .news .title a"),n;t.click(function(){n=t.index(e(this));_gaq.push(["_trackEvent","Destaques_Noticias","Noticia_"+n])})},_GAEventsTrackingChooseSections:function(){var n=e("#section-navigation .cat-item a"),r;n.click(function(){r=e(this).text();r=t._string_to_slug(r);_gaq.push(["_trackEvent","Secao",r])})},_string_to_slug:function(e){var t=e;t=t.replace(/\s+/g,"_");t=t.replace(new RegExp("[àáâãäå]","g"),"a");t=t.replace(new RegExp("æ","g"),"ae");t=t.replace(new RegExp("ç","g"),"c");t=t.replace(new RegExp("[èéêë]","g"),"e");t=t.replace(new RegExp("[ìíîï]","g"),"i");t=t.replace(new RegExp("ñ","g"),"n");t=t.replace(new RegExp("[òóôõö]","g"),"o");t=t.replace(new RegExp("œ","g"),"oe");t=t.replace(new RegExp("[ùúûü]","g"),"u");t=t.replace(new RegExp("[ýÿ]","g"),"y");return t},tempAds:function(){e(".anuncio span").click(function(){e(this).parent().fadeOut("fast",function(){e.cookie("cookie_expired","hide",{path:"/"})})});if(e.cookie("cookie_expired")==="hide"){e(".home .anuncio").hide()}else{e(".home .anuncio").show()}},watermark:function(){var e=jQuery(".single-noticia");e.isExist(".entry-content a img",function(e){e.parent("a").addClass("watermark")});e.isExist("img.alignright",function(e){e.parent("a").addClass("img-right")});e.isExist("img.alignleft",function(e){e.parent("a").addClass("img-left")});jQuery(".single-noticia .entry-content img").each(function(){var e=jQuery(this).width();if(e>600){jQuery(this).parent("a").addClass("img-full")}})},colorbox_single_box:function(){ return;},resize_single_box:function(){if(jQuery("body").hasClass("single-im_box")){if(jQuery(".btn-information").text().length>30){jQuery(".btn-information").addClass("btn-information-large")}}}}})(jQuery)